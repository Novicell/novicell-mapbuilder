<style>
    .ncMapBuilderInvalidValue {
        border-color: #9d261d !important;
    }
</style>


<div ng-controller="Novicell.OverviewController as ctrl">
    <!--#region main -->
    <div ng-if="ctrl.typeName == 'map-' || ctrl.typeName == 'data-'">
        <umb-panel>
            <umb-header>
                <div class="span4">
                    <h1>{{ctrl.name}}</h1>
                </div>
            </umb-header>

            <div class="umb-panel-body">
                <div class="umb-pane">
                    <h4 style="margin-bottom: 20px;"><span localize-option="ncmb_list_header">List of</span> {{ctrl.name}}</h4>

                    <div class="umb-table" ng-if="ctrl.items">
                        <div class="umb-table-head">
                            <div class="umb-table-row">
                                <div class="umb-table-cell">
                                    Id
                                </div>

                                <div class="umb-table-cell umb-table__name">
                                    <localize key="ncmb_list_tablenameheader">Name</localize>
                                </div>

                                <div class="umb-table-cell" style="text-align: right; display: block; margin-right: 50px;">
                                    Link
                                </div>
                            </div>
                        </div>
                        <div class="umb-table-body">
                            <div class="umb-table-row" ng-repeat="item in ctrl.items">
                                <div class="umb-table-cell">
                                    {{item.Id}}
                                </div>

                                <div class="umb-table-cell umb-table__name">
                                    <a class="umb-table-body__link" href="{{'#/MapBuilder/MapBuilderTree/edit/' + ctrl.typeName + item.Id}}">{{item.Name}}</a>
                                </div>

                                <div class="umb-table-cell" style="text-align: right; display: block;">
                                    <a class="btn btn-success umb-table-body__link" href="{{'#/MapBuilder/MapBuilderTree/edit/' + ctrl.typeName + item.Id}}"><localize key="ncmb_list_button">Go to</localize></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </umb-panel>
    </div>
    <!--#endregion -->
    <!--#region editing map -->
    <div ng-if="ctrl.typeName == 'EditMaps'">
        <form name="form" ng-controller="Novicell.EditMapController as ctrl" val-form-manager>
            <umb-panel>
                <umb-header tabs="ctrl.content.tabs">
                    <div class="umb-panel-header-content-wrapper">
                        <div class="umb-panel-header-content -top-position">
                            <div class="umb-panel-header-left-side">
                                <div class="umb-panel-header-title-wrapper">
                                    <input class="umb-panel-header-name-input" type="text" name="mapName" ng-model="ctrl.content.map.Name" localize="placeholder" placeholder="@ncmb_placeholders_entername" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapName.$error.required}" required />
                                </div>
                            </div>
                        </div>
                    </div>
                </umb-header>

                <umb-tab-view>
                    <umb-tab id="tab1" rel="wut1">

                        <div class="umb-pane">
                            <div class="form-horizontal tab-content">
                                <div class="umb-property">
                                    <div class="control-group umb-control-group">
                                        <div class="umb-el-wrap">
                                            <label class="control-label">
                                                <localize key="ncmb_maps_alias">Alias</localize>
                                                <small><localize key="ncmb_maps_descriptions_alias">The alias of the map - should be unique.</localize></small>
                                            </label>

                                            <div class="controls">
                                                <div class="umb-property-editor">
                                                    <input class="umb-editor umb-textstring textstring" type="text" name="mapAlias" ng-model="ctrl.content.map.Alias" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapAlias.$error.required}" required />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="umb-property">
                                    <div class="control-group umb-control-group">
                                        <div class="umb-el-wrap">
                                            <label class="control-label">
                                                <localize key="ncmb_maps_gmapi">Google Maps API key</localize>
                                                <small>
                                                    <localize key="ncmb_maps_descriptions_gmapi">Required as of October 12, 2016.</localize>
                                                </small>
                                            </label>

                                            <div class="controls">
                                                <div class="umb-property-editor">
                                                    <input class="umb-editor umb-textstring textstring" type="text" ng-model="ctrl.content.map.ApiKey" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="umb-property">
                                    <div class="control-group umb-control-group">
                                        <div class="umb-el-wrap">
                                            <label class="control-label">
                                                <localize key="ncmb_maps_datasource">Datasource</localize>
                                                <small><localize key="ncmb_maps_descriptions_datasource">Select the datasource for the map.</localize></small>
                                            </label>

                                            <div class="controls">
                                                <div class="umb-property-editor">
                                                    <select class="umb-editor umb-dropdown" name="mapDataId" ng-model="ctrl.content.map.DataId" ng-options="datasource.Id as datasource.Name for datasource in ctrl.content.dataSources" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapDataId.$error.required}" required>
                                                        <option value="">-- <localize key="ncmb_maps_datasource_select">Select datasource</localize> --</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </umb-tab>
                    <umb-tab id="tab2" rel="wut2">
                        <div class="umb-pane">

                            <div class="form-horizontal tab-content">
                                <div class="umb-property">
                                    <div class="control-group umb-control-group">
                                        <div class="umb-el-wrap">
                                            <label class="control-label">
                                                <localize key="ncmb_maps_styling">Styling</localize>
                                                <small><localize key="ncmb_maps_descriptions_styling">Go to snazzymaps.com for themes.</localize></small>
                                            </label>

                                            <div class="controls">
                                                <div class="umb-property-editor">
                                                    <textarea class="umb-editor umb-textarea textstring" rows="10" ng-model="ctrl.content.mapStyle"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="umb-property">
                                    <div class="control-group umb-control-group">
                                        <div class="umb-el-wrap">
                                            <label class="control-label">
                                                <localize key="ncmb_maps_hybridmap">Hybrid map</localize>
                                                <small><localize key="ncmb_maps_descriptions_hybridmap">Choose whether to use hybrid map as default or not. (Default = ROADMAP)</localize></small>
                                            </label>

                                            <div class="controls">
                                                <div class="umb-property-editor">
                                                    <div class="umb-editor umb-boolean">
                                                        <input type="checkbox" ng-model="ctrl.content.map.UseHybridMap" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="umb-property">
                                    <div class="control-group umb-control-group">
                                        <div class="umb-el-wrap">
                                            <label class="control-label">
                                                <localize key="ncmb_maps_geolocation">Geo Location</localize>
                                                <small><localize key="ncmb_maps_descriptions_geolocation">Choose whether geo location is enabled or not.</localize></small>
                                            </label>

                                            <div class="controls">
                                                <div class="umb-property-editor">
                                                    <div class="umb-editor umb-boolean">
                                                        <input type="checkbox" ng-model="ctrl.content.map.UseGeoLocation" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="umb-property">
                                    <div class="control-group umb-control-group">
                                        <div class="umb-el-wrap">
                                            <label class="control-label">
                                                <localize key="ncmb_maps_initialzoom">Initial Zoom</localize>
                                                <small><localize key="ncmb_maps_descriptions_initialzoom">Set the initial zoom level of the map.</localize></small>
                                            </label>

                                            <div class="controls">
                                                <div class="umb-property-editor">
                                                    <div class="umb-editor umb-boolean">
                                                        <select class="umb-editor umb-dropdown" ng-model="ctrl.content.map.InitialZoom" ng-options="number as number for number in ctrl.zoomLevels"></select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="umb-property">
                                    <div class="control-group umb-control-group">
                                        <div class="umb-el-wrap">
                                            <label class="control-label">
                                                <localize key="ncmb_maps_minimumzoom">Minimum Zoom</localize>
                                                <small><localize key="ncmb_maps_descriptions_minimumzoom">Set the minimum amount of zoom possible.</localize></small>
                                            </label>

                                            <div class="controls">
                                                <div class="umb-property-editor">
                                                    <div class="umb-editor umb-boolean">
                                                        <select class="umb-editor umb-dropdown" ng-model="ctrl.content.map.MinZoom" ng-options="number as number for number in ctrl.zoomLevels"></select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="umb-property">
                                    <div class="control-group umb-control-group">
                                        <div class="umb-el-wrap">
                                            <label class="control-label">
                                                <localize key="ncmb_maps_maximumzoom">Maximum Zoom</localize>
                                                <small><localize key="ncmb_maps_descriptions_maximumzoom">Set the maximum amount of zoom possible.</localize></small>
                                            </label>

                                            <div class="controls">
                                                <div class="umb-property-editor">
                                                    <div class="umb-editor umb-boolean">
                                                        <select class="umb-editor umb-dropdown" ng-model="ctrl.content.map.MaxZoom" ng-options="number as number for number in ctrl.zoomLevels"></select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </umb-tab>
                    <umb-tab id="tab3" rel="wut3">
                        <div class="umb-pane">
                            <div class="form-horizontal tab-content">
                                <div class="umb-property">
                                    <div class="control-group umb-control-group">
                                        <div class="umb-el-wrap">
                                            <label class="control-label">
                                                <localize key="ncmb_maps_iconurl">Icon URL</localize>
                                                <small><localize key="ncmb_maps_descriptions_iconurl">URL for the icon you wish to use for the marker icon. Should be of type PNG.</localize></small>
                                            </label>

                                            <div class="controls">
                                                <div class="umb-property-editor">
                                                    <input class="umb-editor umb-textstring textstring" type="text" name="mapIconUrl" ng-model="ctrl.content.defaultIconStyle.url" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapIconUrl.$error.required}" required />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="umb-property">
                                    <div class="control-group umb-control-group">
                                        <div class="umb-el-wrap">
                                            <label class="control-label">
                                                <localize key="ncmb_maps_iconwidth">Icon Width (pixels)</localize>
                                                <small><localize key="ncmb_maps_descriptions_iconwidth">Needs to be the same width as the PNG selected above. This is required because of a limitation in Google Maps API.</localize></small>
                                            </label>

                                            <div class="controls">
                                                <div class="umb-property-editor">
                                                    <input class="umb-editor umb-number" type="number" name="mapIconWidth" ng-model="ctrl.content.defaultIconStyle.Width" min="0" step="1" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapIconWidth.$error.required}" required />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="umb-property">
                                    <div class="control-group umb-control-group">
                                        <div class="umb-el-wrap">
                                            <label class="control-label">
                                                <localize key="ncmb_maps_iconheight">Icon Height (pixels)</localize>
                                                <small><localize key="ncmb_maps_descriptions_iconheight">Needs to be the same height as the PNG selected above. This is required because of a limitation in Google Maps API.</localize></small>
                                            </label>

                                            <div class="controls">
                                                <div class="umb-property-editor">
                                                    <input class="umb-editor umb-number" type="number" name="mapIconHeight" ng-model="ctrl.content.defaultIconStyle.Height" min="0" step="1" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapIconHeight.$error.required}" required />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="umb-property">
                                    <div class="control-group umb-control-group">
                                        <div class="umb-el-wrap">
                                            <label class="control-label">
                                                <localize key="ncmb_maps_centeronmarker">Center on Marker</localize>
                                                <small><localize key="ncmb_maps_descriptions_centeronmarker">Should only be enabled if the map is used for a single marker.</localize></small>
                                            </label>

                                            <div class="controls">
                                                <div class="umb-property-editor">
                                                    <div class="umb-editor umb-boolean">
                                                        <input type="checkbox" ng-model="ctrl.content.map.CenterOnMarker" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </umb-tab>
                    <umb-tab id="tab4" rel="wut4">
                        <div class="umb-pane">
                            <div class="form-horizontal tab-content">
                                <div class="umb-property">
                                    <div class="control-group umb-control-group">
                                        <div class="umb-el-wrap">
                                            <label class="control-label">
                                                <localize key="ncmb_maps_cluster_clustering">Clustering</localize>
                                                <small><localize key="ncmb_maps_cluster_descriptions_clustering">Choose whether you wish to use clustering or not.</localize></small>
                                            </label>

                                            <div class="controls">
                                                <div class="umb-property-editor">
                                                    <div class="umb-editor umb-boolean">
                                                        <input type="checkbox" ng-model="ctrl.content.map.UseClustering" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div ng-if="ctrl.content.map.UseClustering">
                                <h4 style="margin: 30px 0">Clustering setting</h4>

                                <button type="button" class="btn btn-default" ng-click="ctrl.oneIsCollapsed = !ctrl.oneIsCollapsed" style="margin-bottom: 15px;"><localize key="ncmb_maps_cluster_toggleone">Toggle settings (smallest)</localize></button>
                                <div ng-if="ctrl.oneIsCollapsed">
                                    <div class="well well-lg">

                                        <div class="form-horizontal tab-content">
                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_iconurl">Icon URL</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_iconurl">
                                                                    The URL for the cluster icon.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-textstring textstring" type="text" name="mapClusterOneUrl" ng-model="ctrl.content.clusterStyle[0].url" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneUrl.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_iconwidth">Icon Width (pixels)</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_iconwidth">
                                                                    Needs to be the same width as the PNG selected above. This is required to because of a limitation in Google Maps API.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-number" type="number" name="mapClusterOneIconWidth" min="0" step="1" ng-model="ctrl.content.clusterStyle[0].width" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneIconWidth.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_iconheight">Icon Height (pixels)</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_iconheight">
                                                                    Needs to be the same width as the PNG selected above. This is required to because of a limitation in Google Maps API.

                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-number" type="number" name="mapClusterOneIconHeight" min="0" step="1" ng-model="ctrl.content.clusterStyle[0].height" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneIconHeight.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_topanchor">Top Anchor (pixels)</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_topanchor">
                                                                    The top anchor for the icon. Might need to play around with this before wanted results is achieved.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-number" type="number" name="mapClusterOneTopAnchor" min="0" step="1" ng-model="ctrl.content.clusterStyle[0].anchor[0]" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneTopAnchor.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_leftanchor">Left Anchor (pixels)</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_leftanchor">
                                                                    The left anchor for the icon. Might need to play around with this before wanted results is achieved.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-number" type="number" name="mapClusterOneLeftAnchor" min="0" step="1" ng-model="ctrl.content.clusterStyle[0].anchor[1]" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneLeftAnchor.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_textcolor">Text Color</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_textcolor">
                                                                    Select the color of the text which is used to present how many markers is in a cluster.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <select class="umb-editor umb-dropdown" ng-model="ctrl.content.clusterStyle[0].textColor" ng-options="color for color in ctrl.textColors track by color"></select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <hr />
                                <button type="button" class="btn btn-default" ng-click="ctrl.twoIsCollapsed = !ctrl.twoIsCollapsed" style="margin-bottom: 15px;"><localize key="ncmb_maps_cluster_toggletwo">Toggle settings (2nd smallest)</localize></button>
                                <div ng-if="ctrl.twoIsCollapsed">
                                    <div class="well well-lg">

                                        <div class="form-horizontal tab-content">
                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_iconurl">Icon URL</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_iconurl">
                                                                    The URL for the cluster icon.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-textstring textstring" type="text" name="mapClusterOneUrl" ng-model="ctrl.content.clusterStyle[1].url" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneUrl.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_iconwidth">Icon Width (pixels)</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_iconwidth">
                                                                    Needs to be the same width as the PNG selected above. This is required to because of a limitation in Google Maps API.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-number" type="number" name="mapClusterOneIconWidth" min="0" step="1" ng-model="ctrl.content.clusterStyle[1].width" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneIconWidth.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_iconheight">Icon Height (pixels)</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_iconheight">
                                                                    Needs to be the same width as the PNG selected above. This is required to because of a limitation in Google Maps API.

                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-number" type="number" name="mapClusterOneIconHeight" min="0" step="1" ng-model="ctrl.content.clusterStyle[1].height" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneIconHeight.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_topanchor">Top Anchor (pixels)</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_topanchor">
                                                                    The top anchor for the icon. Might need to play around with this before wanted results is achieved.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-number" type="number" name="mapClusterOneTopAnchor" min="0" step="1" ng-model="ctrl.content.clusterStyle[1].anchor[0]" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneTopAnchor.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_leftanchor">Left Anchor (pixels)</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_leftanchor">
                                                                    The left anchor for the icon. Might need to play around with this before wanted results is achieved.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-number" type="number" name="mapClusterOneLeftAnchor" min="0" step="1" ng-model="ctrl.content.clusterStyle[1].anchor[1]" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneLeftAnchor.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_textcolor">Text Color</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_textcolor">
                                                                    Select the color of the text which is used to present how many markers is in a cluster.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <select class="umb-editor umb-dropdown" ng-model="ctrl.content.clusterStyle[1].textColor" ng-options="color for color in ctrl.textColors track by color"></select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <hr />
                                <button type="button" class="btn btn-default" ng-click="ctrl.threeIsCollapsed = !ctrl.threeIsCollapsed" style="margin-bottom: 15px;"><localize key="ncmb_maps_cluster_togglethree">Toggle settings (medium)</localize></button>
                                <div ng-if="ctrl.threeIsCollapsed">
                                    <div class="well well-lg">

                                        <div class="form-horizontal tab-content">
                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_iconurl">Icon URL</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_iconurl">
                                                                    The URL for the cluster icon.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-textstring textstring" type="text" name="mapClusterOneUrl" ng-model="ctrl.content.clusterStyle[2].url" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneUrl.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_iconwidth">Icon Width (pixels)</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_iconwidth">
                                                                    Needs to be the same width as the PNG selected above. This is required to because of a limitation in Google Maps API.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-number" type="number" name="mapClusterOneIconWidth" min="0" step="1" ng-model="ctrl.content.clusterStyle[2].width" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneIconWidth.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_iconheight">Icon Height (pixels)</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_iconheight">
                                                                    Needs to be the same width as the PNG selected above. This is required to because of a limitation in Google Maps API.

                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-number" type="number" name="mapClusterOneIconHeight" min="0" step="1" ng-model="ctrl.content.clusterStyle[2].height" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneIconHeight.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_topanchor">Top Anchor (pixels)</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_topanchor">
                                                                    The top anchor for the icon. Might need to play around with this before wanted results is achieved.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-number" type="number" name="mapClusterOneTopAnchor" min="0" step="1" ng-model="ctrl.content.clusterStyle[2].anchor[0]" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneTopAnchor.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_leftanchor">Left Anchor (pixels)</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_leftanchor">
                                                                    The left anchor for the icon. Might need to play around with this before wanted results is achieved.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-number" type="number" name="mapClusterOneLeftAnchor" min="0" step="1" ng-model="ctrl.content.clusterStyle[2].anchor[1]" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneLeftAnchor.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_textcolor">Text Color</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_textcolor">
                                                                    Select the color of the text which is used to present how many markers is in a cluster.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <select class="umb-editor umb-dropdown" ng-model="ctrl.content.clusterStyle[2].textColor" ng-options="color for color in ctrl.textColors track by color"></select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <hr>
                                <button type="button" class="btn btn-default" ng-click="ctrl.fourIsCollapsed = !ctrl.fourIsCollapsed" style="margin-bottom: 15px;"><localize key="ncmb_maps_cluster_togglefour">Toggle settings (2nd largest)</localize></button>
                                <div ng-if="ctrl.fourIsCollapsed">
                                    <div class="well well-lg">

                                        <div class="form-horizontal tab-content">
                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_iconurl">Icon URL</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_iconurl">
                                                                    The URL for the cluster icon.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-textstring textstring" type="text" name="mapClusterOneUrl" ng-model="ctrl.content.clusterStyle[3].url" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneUrl.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_iconwidth">Icon Width (pixels)</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_iconwidth">
                                                                    Needs to be the same width as the PNG selected above. This is required to because of a limitation in Google Maps API.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-number" type="number" name="mapClusterOneIconWidth" min="0" step="1" ng-model="ctrl.content.clusterStyle[3].width" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneIconWidth.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_iconheight">Icon Height (pixels)</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_iconheight">
                                                                    Needs to be the same width as the PNG selected above. This is required to because of a limitation in Google Maps API.

                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-number" type="number" name="mapClusterOneIconHeight" min="0" step="1" ng-model="ctrl.content.clusterStyle[3].height" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneIconHeight.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_topanchor">Top Anchor (pixels)</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_topanchor">
                                                                    The top anchor for the icon. Might need to play around with this before wanted results is achieved.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-number" type="number" name="mapClusterOneTopAnchor" min="0" step="1" ng-model="ctrl.content.clusterStyle[3].anchor[0]" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneTopAnchor.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_leftanchor">Left Anchor (pixels)</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_leftanchor">
                                                                    The left anchor for the icon. Might need to play around with this before wanted results is achieved.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-number" type="number" name="mapClusterOneLeftAnchor" min="0" step="1" ng-model="ctrl.content.clusterStyle[3].anchor[1]" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneLeftAnchor.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_textcolor">Text Color</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_textcolor">
                                                                    Select the color of the text which is used to present how many markers is in a cluster.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <select class="umb-editor umb-dropdown" ng-model="ctrl.content.clusterStyle[3].textColor" ng-options="color for color in ctrl.textColors track by color"></select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <hr>
                                <button type="button" class="btn btn-default" ng-click="ctrl.fiveIsCollapsed = !ctrl.fiveIsCollapsed" style="margin-bottom: 15px;"><localize key="ncmb_maps_cluster_togglefive">Toggle settings (largest)</localize></button>
                                <div ng-if="ctrl.fiveIsCollapsed">
                                    <div class="well well-lg">

                                        <div class="form-horizontal tab-content">
                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_iconurl">Icon URL</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_iconurl">
                                                                    The URL for the cluster icon.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-textstring textstring" type="text" name="mapClusterOneUrl" ng-model="ctrl.content.clusterStyle[4].url" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneUrl.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_iconwidth">Icon Width (pixels)</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_iconwidth">
                                                                    Needs to be the same width as the PNG selected above. This is required to because of a limitation in Google Maps API.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-number" type="number" name="mapClusterOneIconWidth" min="0" step="1" ng-model="ctrl.content.clusterStyle[4].width" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneIconWidth.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_iconheight">Icon Height (pixels)</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_iconheight">
                                                                    Needs to be the same width as the PNG selected above. This is required to because of a limitation in Google Maps API.

                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-number" type="number" name="mapClusterOneIconHeight" min="0" step="1" ng-model="ctrl.content.clusterStyle[4].height" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneIconHeight.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_topanchor">Top Anchor (pixels)</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_topanchor">
                                                                    The top anchor for the icon. Might need to play around with this before wanted results is achieved.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-number" type="number" name="mapClusterOneTopAnchor" min="0" step="1" ng-model="ctrl.content.clusterStyle[4].anchor[0]" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneTopAnchor.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_leftanchor">Left Anchor (pixels)</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_leftanchor">
                                                                    The left anchor for the icon. Might need to play around with this before wanted results is achieved.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <input class="umb-editor umb-number" type="number" name="mapClusterOneLeftAnchor" min="0" step="1" ng-model="ctrl.content.clusterStyle[4].anchor[1]" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapClusterOneLeftAnchor.$error.required}" required />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="umb-property">
                                                <div class="control-group umb-control-group">
                                                    <div class="umb-el-wrap">
                                                        <label class="control-label">
                                                            <localize key="ncmb_maps_cluster_textcolor">Text Color</localize>
                                                            <small>
                                                                <localize key="ncmb_maps_cluster_descriptions_textcolor">
                                                                    Select the color of the text which is used to present how many markers is in a cluster.
                                                                </localize>
                                                            </small>
                                                        </label>

                                                        <div class="controls">
                                                            <div class="umb-property-editor">
                                                                <select class="umb-editor umb-dropdown" ng-model="ctrl.content.clusterStyle[4].textColor" ng-options="color for color in ctrl.textColors track by color"></select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <hr>
                            </div>
                        </div>
                    </umb-tab>
                    <umb-tab id="tab5" rel="wut5">
                        <div class="umb-pane">
                            <div class="form-horizontal tab-content">
                                <div class="umb-property">
                                    <div class="control-group umb-control-group">
                                        <div class="umb-el-wrap">
                                            <label class="control-label">
                                                <localize key="ncmb_maps_iw">Info Windows</localize>
                                                <small><localize key="ncmb_maps_descriptions_iw">Choose whether you wish to use info windows or not.</localize></small>
                                            </label>

                                            <div class="controls">
                                                <div class="umb-property-editor">
                                                    <div class="umb-editor umb-boolean">
                                                        <input type="checkbox" ng-model="ctrl.content.map.UseInfoWindows" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div ng-if="ctrl.content.map.UseInfoWindows">
                                <h4 style="margin: 30px 0"><localize key="ncmb_maps_iwsettingsheader">Settings</localize></h4>
                                <div class="form-horizontal tab-content">
                                    <div class="umb-property">
                                        <div class="control-group umb-control-group">
                                            <div class="umb-el-wrap">
                                                <label class="control-label">
                                                    <localize key="ncmb_maps_iwwidth">Width (pixels)</localize>
                                                    <small><localize key="ncmb_maps_descriptions_iwwidth">The desired width of the info window.</localize></small>
                                                </label>

                                                <div class="controls">
                                                    <div class="umb-property-editor">
                                                        <input class="umb-editor umb-number" type="number" name="mapInfoWindoWidth" min="0" step="1" ng-model="ctrl.content.map.InfoWindowWidth" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapInfoWindoWidth.$error.required}" required />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="umb-property">
                                        <div class="control-group umb-control-group">
                                            <div class="umb-el-wrap">
                                                <label class="control-label">
                                                    <localize key="ncmb_maps_iwpartial">Partial Name</localize>
                                                    <small>
                                                        <localize key="ncmb_maps_descriptions_iwpartial">The name of the partial you wish to use for rendering info windows. These partials should be placed in "Views/Partials/MapBuilder/InfoWindows"</localize>
                                                    </small>
                                                </label>

                                                <div class="controls">
                                                    <div class="umb-property-editor">
                                                        <input class="umb-editor umb-textstring textstring" type="text" name="mapInfoWindowName" ng-model="ctrl.content.map.InfoWindowName" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.mapInfoWindowName.$error.required}" required />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </umb-tab>
                    <umb-tab id="tab6" rel="wut6">
                        <div class="umb-pane">
                            <div class="form-horizontal tab-content">
                                <div class="umb-property">
                                    <div class="control-group umb-control-group">
                                        <div class="umb-el-wrap">
                                            <label class="control-label">
                                                <localize key="ncmb_maps_controlsdraggable">Draggable</localize>
                                                <small><localize key="ncmb_maps_descriptions_controlsdraggable">Choose whether you wish to enable dragging the map or not.</localize></small>
                                            </label>

                                            <div class="controls">
                                                <div class="umb-property-editor">
                                                    <div class="umb-editor umb-boolean">
                                                        <input type="checkbox" ng-model="ctrl.content.map.Draggable" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="umb-property">
                                    <div class="control-group umb-control-group">
                                        <div class="umb-el-wrap">
                                            <label class="control-label">
                                                <localize key="ncmb_maps_controlsscrollwheel">Scroll Wheel</localize>
                                                <small><localize key="ncmb_maps_descriptions_controlsscrollwheel">Choose whether you wish to enable scrolling of the map or not.</localize></small>
                                            </label>

                                            <div class="controls">
                                                <div class="umb-property-editor">
                                                    <div class="umb-editor umb-boolean">
                                                        <input type="checkbox" ng-model="ctrl.content.map.ScrollWheelEnabled" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="umb-property">
                                    <div class="control-group umb-control-group">
                                        <div class="umb-el-wrap">
                                            <label class="control-label">
                                                <localize key="ncmb_maps_controlszoom">Zoom</localize>
                                                <small><localize key="ncmb_maps_descriptions_controlszoom">Choose whether you wish to enable zoom controls or not.</localize></small>
                                            </label>

                                            <div class="controls">
                                                <div class="umb-property-editor">
                                                    <div class="umb-editor umb-boolean">
                                                        <input type="checkbox" ng-model="ctrl.content.map.UseZoomControl" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="umb-property">
                                    <div class="control-group umb-control-group">
                                        <div class="umb-el-wrap">
                                            <label class="control-label">
                                                <localize key="ncmb_maps_controlsmaptype">Map Type</localize>
                                                <small><localize key="ncmb_maps_descriptions_controlsmaptype">Choose whether you wish to enable map type controls or not.</localize></small>
                                            </label>

                                            <div class="controls">
                                                <div class="umb-property-editor">
                                                    <div class="umb-editor umb-boolean">
                                                        <input type="checkbox" ng-model="ctrl.content.map.UseMapTypeControl" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="umb-property">
                                    <div class="control-group umb-control-group">
                                        <div class="umb-el-wrap">
                                            <label class="control-label">
                                                <localize key="ncmb_maps_controlsstreetview">Street View</localize>
                                                <small><localize key="ncmb_maps_descriptions_controlsstreetview">Choose whether you wish to enable street view controls or not.</localize></small>
                                            </label>

                                            <div class="controls">
                                                <div class="umb-property-editor">
                                                    <div class="umb-editor umb-boolean">
                                                        <input type="checkbox" ng-model="ctrl.content.map.UseStreetViewControl" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </umb-tab>
                </umb-tab-view>
            </umb-panel>
            <div class="umb-tab-buttons umb-editor-drawer">
                <div class="umb-editor-drawer-content">
                    <div class="umb-editor-drawer-content__right-side ng-scope">
                        <div class="btn-group umb-button" type="button">
                            <button type="button" class="btn umb-button__button btn-success" ng-click="ctrl.save(form)">
                                <span class="umb-button__content">
                                    <localize key="buttons_save">Save</localize>
                                </span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <!--#endregion -->
    <!--#region editing data -->
    <div ng-if="ctrl.typeName == 'EditData'">
        <umb-panel ng-controller="Novicell.EditDataController as ctrl">
            <form name="form" val-form-manager>
                <umb-header>
                    <div class="umb-panel-header-content-wrapper">
                        <div class="umb-panel-header-content -top-position">
                            <div class="umb-panel-header-left-side">
                                <div class="umb-panel-header-title-wrapper">
                                    <input class="umb-panel-header-name-input" name="datasourceName" type="text" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.datasourceName.$error.required}" ng-model="ctrl.data.Name" localize="placeholder" placeholder="@ncmb_placeholders_entername" required />
                                </div>
                            </div>
                        </div>
                    </div>
                </umb-header>

                <div class="umb-panel-body">
                    <div class="umb-pane">
                        <div class="form-horizontal tab-content">
                            <div class="umb-property">
                                <div class="control-group umb-control-group">
                                    <div class="umb-el-wrap">
                                        <label class="control-label">
                                            <localize key="ncmb_data_doctype">Title property selection</localize>
                                            <small><localize key="ncmb_data_descriptions_doctype">Select the document type you wish to map against</localize></small>
                                        </label>

                                        <div class="controls">
                                            <div class="umb-property-editor">
                                                <select class="umb-editor umb-dropdown" name="datasourceDocumentType" ng-model="ctrl.data.DocAlias" ng-change="ctrl.updateProps()" ng-options="docType for docType in ctrl.docTypes track by docType" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.datasourceDocumentType.$error.required}" required>
                                                    <option value="">-- <localize key="ncmb_data_doctype_select">Select document type</localize> --</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div ng-if="ctrl.data.DocAlias">
                            <h4 style="margin: 30px 0"><localize key="ncmb_data_mappingheader">Properties for mapping</localize></h4>
                            <div class="form-horizontal tab-content">
                                <div class="umb-property">
                                    <div class="control-group umb-control-group">
                                        <div class="umb-el-wrap">
                                            <label class="control-label">
                                                <localize key="ncmb_data_titleproperty">Title property selection</localize>
                                                <small><localize key="ncmb_data_descriptions_titleproperty">Select the property you wish to use as title. Titles are used as mouseover tooltips on map markers.</localize></small>
                                            </label>

                                            <div class="controls">
                                                <div class="umb-property-editor">
                                                    <select class="umb-editor umb-dropdown" name="datasourceTitleProperty" ng-model="ctrl.data.TitleProperty" ng-options="docTypeProp for docTypeProp in ctrl.docTypeProps track by docTypeProp" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.datasourceTitleProperty.$error.required}" required>
                                                        <option value="">-- <localize key="ncmb_data_selectproperty">Select property</localize> --</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="umb-property">
                                    <div class="control-group umb-control-group">
                                        <div class="umb-el-wrap">
                                            <label class="control-label">
                                                <localize key="ncmb_data_coordsproperty">Coordinates property selection</localize>
                                                <small><localize key="ncmb_data_descriptions_coordsproperty">Select the property you wish to use for the coordinates. Coordinates are used to place the markers on the map.</localize></small>
                                            </label>

                                            <div class="controls">
                                                <div class="umb-property-editor">
                                                    <select class="umb-editor umb-dropdown" name="datasourceCoordsProperty" ng-model="ctrl.data.CoordsProperty" ng-options="docTypeProp for docTypeProp in ctrl.docTypeProps track by docTypeProp" ng-class="{'ncMapBuilderInvalidValue': form.$submitted && form.datasourceCoordsProperty.$error.required}" required>
                                                        <option value="">-- <localize key="ncmb_data_selectproperty">Select property</localize> --</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="umb-tab-buttons umb-editor-drawer">
                    <div class="umb-editor-drawer-content">
                        <div class="umb-editor-drawer-content__right-side ng-scope">
                            <div class="btn-group umb-button" type="button">
                                <button type="button" class="btn umb-button__button btn-success" ng-click="ctrl.save(form)">
                                    <span class="umb-button__content">
                                        <localize key="buttons_save">Save</localize>
                                    </span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </umb-panel>
    </div>
    <!--#endregion -->
</div>